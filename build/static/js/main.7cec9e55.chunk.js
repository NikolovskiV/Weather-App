(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{2:function(e,t,s){e.exports={TextInput:"Forecast_TextInput__2ur0J",Radio:"Forecast_Radio__1Ejlt",Button:"Forecast_Button__3Y_IL"}},22:function(e,t,s){},24:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(12),c=s.n(i),r=(s(22),s(4)),l=s.n(r),o=s(8),d=s(13),j=s(14),h=s(17),u=s(16),m=(s(24),s(9)),x=s.n(m),p=s(15),b=s.n(p),O=s(0),f="white",v=100,w=!0;var g=function(e){var t;switch(e.weatherName){case"Clear":t="CLEAR_DAY";break;case"Rain":t="RAIN";break;case"Rain":t="CLOUDY";break;default:t="CLEAR_DAY"}return Object(O.jsx)(a.a.Fragment,{children:Object(O.jsxs)("div",{className:"col-4 side-bg text-center py-3",children:[Object(O.jsx)(b.a,{icon:t,color:f,size:v,animate:w}),Object(O.jsx)("h2",{className:"text-white py-2",children:e.weatherName}),Object(O.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(O.jsxs)("div",{className:"d-flex col-12 py-2",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Humidity"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[e.humidity,"%"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Visiblity"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[e.visibility," mi"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Wind Speed"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[e.windSpeed," km/h"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Feels Like"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[e.feelsLike," \xb0C"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Min Temp"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[e.minTemp," \xb0C"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Max Temp"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[e.maxTemp," \xb0C"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Sunrise"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[new Date(1e3*e.sunrise).toLocaleTimeString("sv-SE")," h"]})]}),Object(O.jsxs)("div",{className:"d-flex col-12 py-1",children:[Object(O.jsx)("div",{className:"text-white",children:Object(O.jsx)("strong",{children:"Sunset"})}),Object(O.jsxs)("div",{className:"text-white ml-auto",children:[new Date(1e3*e.sunset).toLocaleTimeString("sv-SE")," h"]})]})]})]})})},N=s(10),y=s(3),S=s(5),_=s.n(S),C=function(e){return Object(O.jsxs)("div",{className:_.a.Wrapper,children:[e.error&&Object(O.jsx)("small",{className:_.a.Small,children:"Please enter a valid city."}),e.loading&&Object(O.jsx)("div",{className:_.a.Loader}),200===e.responseObj.cod?Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:e.responseObj.name})}),Object(O.jsxs)("p",{children:["It is currently ",Math.round(e.responseObj.main.temp)," degrees out with ",e.responseObj.weather[0].description,"."]})]}):null]})},k=s(2),T=s.n(k),L=function(){var e=Object(n.useState)({}),t=Object(y.a)(e,2),s=t[0],a=t[1],i=Object(n.useState)(""),c=Object(y.a)(i,2),r=c[0],l=c[1],o=Object(n.useState)("imperial"),d=Object(y.a)(o,2),j=d[0],h=d[1],u=(encodeURIComponent(r),Object(n.useState)(!1)),m=Object(y.a)(u,2),x=m[0],p=m[1],b=Object(n.useState)(!1),f=Object(y.a)(b,2),v=f[0],w=f[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Find Current Weather Conditions"}),Object(O.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===r.length)return p(!0);p(!1),a({}),w(!0);var t=encodeURIComponent(r);fetch("https://community-open-weather-map.p.rapidapi.com/weather?units=".concat(j,"&q=").concat(t),{method:"GET",headers:{"x-rapidapi-host":"community-open-weather-map.p.rapidapi.com","x-rapidapi-key":"apikey"}}).then((function(e){return e.json()})).then((function(e){if(200!==e.cod)throw new Error;a(e),w(!1)})).catch((function(e){p(!0),w(!1),console.log(e.message)}))},children:[Object(O.jsx)("input",{type:"text",placeholder:"Enter City",maxLength:"50",className:T.a.textInput,value:r,onChange:function(e){return l(e.target.value)}})," ",Object(O.jsx)("br",{}),Object(O.jsxs)("label",{className:T.a.Radio,children:[Object(O.jsx)("input",{type:"radio",name:"units",checked:"imperial"===j,value:"imperial",className:T.a.textInput,onChange:function(e){return h(e.target.value)}}),"Fahrenheit"]}),Object(O.jsxs)("label",{className:T.a.Radio,children:[Object(O.jsx)("input",{type:"radio",name:"units",checked:"metric"===j,value:"metric",className:T.a.textInput,onChange:function(e){return h(e.target.value)}}),"Celcius"]}),Object(O.jsx)("button",{className:T.a.Button,type:"submit",children:"Get Forecast"})]}),Object(O.jsx)(C,{responseObj:s,error:x,loading:v})]})},F=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={latitude:null,longitude:null,temp:null,locationName:null,country:null,humidity:null,visibility:null,windSpeed:null,feelsLike:null,minTemp:null,maxTemp:null,weatherName:null,sunrise:null,sunset:null,forecast:[]},e.getPostions=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))},e.getWeather=function(){var t=Object(o.a)(l.a.mark((function t(s,n){var a,i,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(s,"&lon=").concat(n,"&units=metric&appid=38ff886a4e3b7104f324a6067130ef6a"));case 2:return a=t.sent,t.next=5,a.json();case 5:i=t.sent,console.log(i),c=Object(N.getSunset)(s,n),Object(N.getSunrise)(s,n),console.log(toString(c)),e.setState({temp:Math.round(i.main.temp),locationName:i.name,country:i.sys.country,humidity:i.main.humidity,visibility:i.visibility,windSpeed:i.wind.speed,feelsLike:Math.round(i.main.feels_like),minTemp:Math.round(i.main.temp_min),maxTemp:Math.round(i.main.temp_max),weatherName:i.weather[0].main,sunrise:i.sys.sunrise,sunset:i.sys.sunset});case 11:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),e.getForecast=function(){var t=Object(o.a)(l.a.mark((function t(s,n){var a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(s,"&lon=").concat(n,"&units=metric&appid=38ff886a4e3b7104f324a6067130ef6a"));case 2:return a=t.sent,t.next=5,a.json();case 5:i=t.sent,console.log(i),e.setState({forecast:i.list});case 8:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation&&this.getPostions().then((function(t){console.log(t.coords.latitude),e.getWeather(t.coords.latitude,t.coords.longitude),e.getForecast(t.coords.latitude,t.coords.longitude)}))}},{key:"render",value:function(){return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsxs)("div",{className:"col-8 d-flex justify-content-center py-5",children:[Object(O.jsxs)("div",{className:"col-6 app-bg d-flex flex-wrap py-3",children:[Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("h2",{className:"text-white m-0",children:this.state.locationName}),Object(O.jsx)("p",{className:"text-white",children:this.state.country})]}),Object(O.jsxs)("div",{className:"col-12 mt-auto d-flex",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h2",{className:"text-white m-0",children:Object(O.jsx)(x.a,{format:"HH:mm:ss",ticking:!0})}),Object(O.jsx)("p",{className:"text-white m-0",children:Object(O.jsx)(x.a,{date:"",format:"dddd, MMMM DD, YYYY"})})]}),Object(O.jsx)("div",{className:"ml-auto",children:Object(O.jsxs)("h1",{className:"text-white",children:[this.state.temp,"\xb0C"]})})]})]}),Object(O.jsx)(g,{humidity:this.state.humidity,visibility:this.state.visibility,windSpeed:this.state.windSpeed,feelsLike:this.state.feelsLike,minTemp:this.state.minTemp,maxTemp:this.state.maxTemp,weatherName:this.state.weatherName,sunrise:this.state.sunrise,sunset:this.state.sunset})]}),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("main",{children:Object(O.jsx)(L,{})}),Object(O.jsx)("footer",{children:"Page created by Vande Nikolovski"})]})]})}}]),s}(a.a.Component),M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,38)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root")),M()},5:function(e,t,s){e.exports={Wrapper:"Conditions_Wrapper__1WUTs",Small:"Conditions_Small__1VrqO",Loader:"Conditions_Loader__PcSFJ",spin:"Conditions_spin__b05Or"}}},[[37,1,2]]]);
//# sourceMappingURL=main.7cec9e55.chunk.js.map